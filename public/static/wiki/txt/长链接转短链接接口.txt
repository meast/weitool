<p>将一条长链接转成短链接。</p><p>主要使用场景： 开发者用于生成二维码的原链接（商品、支付二维码等）太长导致扫码速度和成功率下降，将原长链接通过此接口转成短链接再生成二维码将大大提升扫码速度和成功率。</p><h3> <span class="mw-headline" id=".E6.8E.A5.E5.8F.A3.E8.B0.83.E7.94.A8.E8.AF.B7.E6.B1.82.E8.AF.B4.E6.98.8E"><b>接口调用请求说明</b></span></h3><p>开发者可通过OpenID来获取用户基本信息。请使用https协议。</p><p><b>接口调用请求说明</b></p><pre>http请求方式: POSThttps://api.weixin.qq.com/cgi-bin/shorturl?access_token=ACCESS_TOKEN</pre><p><b>参数说明</b></p><table border="1" cellspacing="0" cellpadding="4" align="center" width="640px"><tr><th style="width:120px">参数</th><th style="width:120px">是否必须</th><th>说明</th></tr><tr><td> access_token</td><td> 是</td><td> 调用接口凭证</td></tr><tr><td> action</td><td> 是</td><td> 此处填long2short，代表长链接转短链接</td></tr><tr><td> long_url</td><td> 是</td><td> 需要转换的长链接，支持http://、https://、weixin://wxpay 格式的url</td></tr></table><p><b>调用举例</b></p><pre>curl -d &quot;{\&quot;action\&quot;:\&quot;long2short\&quot;,\&quot;long_url\&quot;:\&quot;http://wap.koudaitong.com/v2/showcase/goods?alias=128wi9shh&amp;spm=h56083&amp;redirect_count=1\&quot;}&quot; &quot;https://api.weixin.qq.com/cgi-bin/shorturl?access_token=ACCESS_TOKEN&quot;</pre><p><b>返回说明</b></p><p>正常情况下，微信会返回下述JSON数据包给公众号：</p><pre>{&quot;errcode&quot;:0,&quot;errmsg&quot;:&quot;ok&quot;,&quot;short_url&quot;:&quot;http:\/\/w.url.cn\/s\/AvCo6Ih&quot;}</pre><p><b>参数说明</b></p><table border="1" cellspacing="0" cellpadding="4" align="center" width="640px"><tr><th style="width:240px">参数</th><th>说明</th></tr><tr><td> errcode</td><td> 错误码。</td></tr><tr><td> errmsg</td><td> 错误信息。</td></tr><tr><td> short_url</td><td> 短链接。</td></tr></table><p>错误时微信会返回错误码等信息，JSON数据包示例如下（该示例为AppID无效错误）:</p><pre>{&quot;errcode&quot;:40013,&quot;errmsg&quot;:&quot;invalid appid&quot;}</pre><p><a href="http://mp.weixin.qq.com/wiki/index.php?title=%E5%85%A8%E5%B1%80%E8%BF%94%E5%9B%9E%E7%A0%81%E8%AF%B4%E6%98%8E" class="external text" rel="nofollow">全局返回码说明</a></p><!-- NewPP limit reportPreprocessor node count: 18/1000000Post-expand include size: 0/2097152 bytesTemplate argument size: 0/2097152 bytesExpensive parser function count: 0/100--><div class="printfooter">取自“<a href="http://mp.weixin.qq.com/wiki/index.php?title=%E9%95%BF%E9%93%BE%E6%8E%A5%E8%BD%AC%E7%9F%AD%E9%93%BE%E6%8E%A5%E6%8E%A5%E5%8F%A3">http://mp.weixin.qq.com/wiki/index.php?title=%E9%95%BF%E9%93%BE%E6%8E%A5%E8%BD%AC%E7%9F%AD%E9%93%BE%E6%8E%A5%E6%8E%A5%E5%8F%A3</a>”</div>